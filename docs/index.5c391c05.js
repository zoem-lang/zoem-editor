var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},c=e.parcelRequire2714;null==c&&((c=function(e){if(e in t)return t[e].exports;if(e in n){var c=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,c.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequire2714=c);var r=c("8BrLS");const o=document.querySelector(".navToggle"),i=document.querySelector(".nav"),l=document.querySelectorAll(".nav__item > button"),d=document.querySelectorAll(".nav__dropdown-item > button"),a=document.querySelector(".filename-title"),s=document.querySelectorAll(".example-item button"),u=document.querySelector(".regex");let v=!1;function m(e){e.preventDefault();let t=e.currentTarget;v=t.parentElement.classList.toggle("nav__item--open")}function f(e){e.preventDefault();let t=e.currentTarget;if(v){for(let e of l)e.parentElement.classList.remove("nav__item--open");t.parentElement.classList.add("nav__item--open"),t.focus()}}function p(e){}function E(e){e.preventDefault(),v=!1,e.currentTarget.parentElement.parentElement.parentElement.classList.remove("nav__item--open")}function L(){b(""),a.innerText="Untitled"}function y(){const e=document.createElement("input");e.type="file",e.accept=".zoem,.txt",e.addEventListener("input",(e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.addEventListener("load",(()=>{b(e.result);const n=t.name.split("."),c=n.slice(0,n.length-1).join(".");a.innerText=c}),!1),e.readAsText(t,"UTF-8")}})),e.click()}function S(){const e=r.view.state.doc.toString(),t=new Blob([e],{type:"text/plain;charset=UTF-8"}),n=URL.createObjectURL(t),c=document.createElement("a");c.href=n;const o=a.innerText;c.download=`${o}.zoem`,c.click()}function k(e){q(e.currentTarget.value)}function q(e){fetch("./examples/"+e+".zoem").then((e=>e.text())).then((t=>{b(t),a.innerText=e})).catch((e=>console.log(e)))}function g(e){u.classList.add("visible")}function w(e){u.classList.remove("visible")}function h(e,t=""){if(!e)return null;console.error(e);const{oneLiner:n,preErrorSection:c,errorSection:r,postErrorSection:o}=formatZoemError(e,t);let i=n;r&&(i+="<br />",i+=`${c}<span class="error">${r}</span>${o}`)}function B(){const e=r.view.state.doc.toString();console.log(e);const t=new Environment;try{b(run(e,t)),h(null)}catch(t){h(t,e)}}function x(e){r.view.dispatch(r.view.state.replaceSelection(e)),r.view.focus()}function b(e){r.view.dispatch({changes:{from:0,to:r.view.state.doc.length,insert:e}}),r.view.focus()}document.addEventListener("DOMContentLoaded",(()=>{q("docks"),o.addEventListener("click",(e=>{e.preventDefault(),i.classList.toggle("open")?o.innerText="×":o.innerText="☰",document.body.classList.toggle("navIsOpen")})),l.forEach((e=>{e.addEventListener("click",m),e.addEventListener("mouseover",f),e.addEventListener("blur",p)})),d.forEach((e=>{e.addEventListener("click",E)})),document.querySelector("#newBtn").addEventListener("click",L),document.querySelector("#loadBtn").addEventListener("click",y),document.querySelector("#saveBtn").addEventListener("click",S),s.forEach((e=>{e.addEventListener("click",k)})),document.querySelector("#regexBtn").addEventListener("click",g),document.querySelector(".backdrop").addEventListener("click",w),document.querySelector("#echoBtn").addEventListener("click",B),document.querySelector("#clearBtn").addEventListener("click",(()=>b(""))),document.querySelector("#commentBtn").addEventListener("click",(()=>x("† "))),document.querySelector("#dashBtn").addEventListener("click",(()=>x("—"))),document.querySelector("#colonBtn").addEventListener("click",(()=>x(":"))),document.querySelector("#ampersandBtn").addEventListener("click",(()=>x("&"))),document.querySelector("#openQuoteBtn").addEventListener("click",(()=>x("“"))),document.querySelector("#closeQuoteBtn").addEventListener("click",(()=>x("”"))),document.querySelector("#pipeBtn").addEventListener("click",(()=>x("|"))),document.querySelector("#openParenBtn").addEventListener("click",(()=>x("("))),document.querySelector("#closeParenBtn").addEventListener("click",(()=>x(")"))),document.querySelector("#questionBtn").addEventListener("click",(()=>x("?"))),document.querySelector("#asteriskBtn").addEventListener("click",(()=>x("*"))),document.querySelector("#plusBtn").addEventListener("click",(()=>x("+")))})),document.addEventListener("keydown",(e=>{"Escape"===e.code&&u.classList.contains("visible")&&u.classList.remove("visible")}));
//# sourceMappingURL=index.5c391c05.js.map
